Step 1:Clone the dependency repositories
--------------------
***branch****
weston 2.0: rocko
weston 5.0:	thud
--------------------

$	~/git clone -b {branch} git://git.yoctoproject.org/poky.git 
$	cd poky
$	~/poky$ git clone -b {branch} git://git.openembedded.org/meta-openembedded
$	~/poky$ git clone -b {branch} https://github.com/meta-qt5/meta-qt5
$	~/poky$ git clone -b {branch} git://git.yoctoproject.org/meta-security
$   ~/poky$ git clone -b {branch} git://git.yoctoproject.org/meta-raspberrypi

Step 2:
$   source poky/oe-init-build-env
$   bitbake-layers add-layer ../poky/meta-raspberrypi
$   bitbake-layers add-layer ../poky/meta-openembedded/meta-oe

Step 3:

"~" is your Working directory.

$   vi conf/local.conf
Add below infomation:

	- MACHINE ??= "qemux86" 
	+ MACHINE ?= "raspberrypi3" 
	+ DISTRO_FEATURES_append = " wayland opengl" 
	+ DISTRO_FEATURES_remove = " x11" 
	+ MACHINE_FEATURES += "vc4graphics"  
	+ CONNECTIVITY_CHECK_URIS = "" 
	+ ENABLE_UART="1"

$   vi ./conf/bblayer.conf
Add below infomation:

	+ ~/poky/meta-openembedded/meta-oe \
	+ ~/poky/meta-openembedded/meta-multimedia \
	+ ~/poky/meta-openembedded/meta-networking \
	+ ~/poky/meta-openembedded/meta-perl \
	+ ~/poky/meta-openembedded/meta-python \
	+ ~/poky/meta-qt5 \
	+ ~/poky/meta-raspberrypi \
	+ ~/poky/meta-security \  

Step 4: To enable weston-simple-egl client

With "~" is your Working directory.

	vi ~/poky/meta-raspberrypi/recipes-graphics/wayland/weston_%.bbappend
	
From:
	EXTRA_OECONF_append_rpi = " \
		--disable-xwayland-test \
		--disable-simple-egl-clients \
		${@bb.utils.contains('MACHINE_FEATURES', 'vc4graphics', '', ' \
			--disable-resize-optimization \
			--disable-setuid-install \
		', d)} \
	"
To
	EXTRA_OECONF_append_rpi = " \
		--disable-xwayland-test \
		${@bb.utils.contains('MACHINE_FEATURES', 'vc4graphics', '', ' \
			--disable-resize-optimization \
			--disable-setuid-install \
		', d)} \
	"

Step 5:
$	time bitbake core-image-weston 
	For checking time built
Step 6: copy image to SD card.
	sudo dd if=tmp/deploy/images/raspberrypi3/core-image-weston-raspberrypi3.rpi-sdimg of=/dev/sdi bs=100M
